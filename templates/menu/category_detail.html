{% extends 'base.html' %}

{% block title %}{{ category.name }}{% endblock %}

{% block content %}
<div class="container my-5">
  <h2 class="mb-4">{{ category.name }}</h2>

  {% if dishes %}
  <div class="row g-3">
    {% for dish in dishes %}
    <div class="col-12 col-md-6 col-lg-4">
      <div class="card shadow-sm h-100 hover-scale">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ dish.name }}</h5>
          <p class="mb-2"><b>Ціна:</b> {{ dish.price }} грн</p>

      {% if dish.available %}
        <p class="text-success fw-semibold">✅ В наявності</p>
      {% else %}
        <p class="text-danger fw-semibold">❌ Немає в наявності</p>
      {% endif %}
          {% if dish.avg_rating %}
            <span class="text-warning">⭐ {{ dish.avg_rating|floatformat:1 }} ({{ dish.review_count }})</span>
          {% else %}
            <span class="text-muted">⭐ Немає оцінок</span>
          {% endif %}
          <a href="{% url 'menu:dish_detail' dish.id %}" class="btn btn-primary mt-auto">Переглянути</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
    <p>Немає страв у цій категорії.</p>
  {% endif %}
</div>

{% endblock %}

{% block extra_css %}
<style>
.hover-scale:hover {
  transform: scale(1.03);
  transition: transform 0.3s ease;
}
.card {
  border-radius: 0.75rem;
}
.card-title {
  font-weight: 600;
}
</style>
{% endblock %}
