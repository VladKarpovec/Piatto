{% extends "base.html" %}
{% block title %}–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è{% endblock %}

{% block content %}
<div class="container my-5">
  <h2 class="section-title mb-4 text-center">üßæ –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

  <div class="row g-4">
    <!-- –§–æ—Ä–º–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è -->
    <div class="col-md-6">
      <div class="card shadow-sm p-4 border-0">
        <h5 class="mb-3">–í–∞—à—ñ –¥–∞–Ω—ñ</h5>
        <form method="post" novalidate>
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit" class="btn btn-primary btn-lg w-100 mt-3">
            ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
          </button>
        </form>
      </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–≤ -->
    <div class="col-md-6">
      <div class="card shadow-sm p-4 border-0">
        <h5 class="mb-3">–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h5>
        {% if cart|length %}
        <ul class="list-group list-group-flush mb-3">
          {% for item in cart %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ item.dish.name }} (√ó{{ item.quantity }})</span>
            <strong>{{ item.total_price|floatformat:2 }} –≥—Ä–Ω</strong>
          </li>
          {% endfor %}
          <li class="list-group-item d-flex justify-content-between">
            <strong>–†–∞–∑–æ–º:</strong> <strong>{{ total|floatformat:2 }} –≥—Ä–Ω</strong>
          </li>
        </ul>
        {% else %}
        <p>–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π.</p>
        {% endif %}
        <form method="post" action="{% url 'cart:clear_cart' %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-outline-danger btn-lg w-100">
            ‚ùå –í—ñ–¥–º–æ–≤–∏—Ç–∏—Å—è –≤—ñ–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.section-title { font-size: 2rem; font-weight: 700; color: #333; }
.card { border-radius: 1rem; }
.card h5 { font-weight: 600; }
.btn-lg { padding: 0.75rem 1rem; font-size: 1.1rem; }
.list-group-item { font-size: 1rem; }
.btn-outline-danger:hover { background: #dc3545; color: #fff; }
</style>
{% endblock %}
