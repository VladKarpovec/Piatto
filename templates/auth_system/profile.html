{% extends 'base.html' %}

{% block title %}–ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å{% endblock %}

{% block content %}
<div class="container my-5 profile-page">
  {% if user.is_authenticated %}
    <h1 class="section-title mb-4 text-center">üë§ –ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å</h1>

    <div class="profile-card mx-auto p-4 shadow-sm rounded bg-white" style="max-width:550px; width:100%; box-sizing:border-box;">
      {% if user.profile.avatar %}
        <div class="text-center mb-3">
          <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="avatar-lg shadow-sm"
               style="width:120px; height:120px; object-fit:cover; border-radius:50%;">
        </div>
      {% endif %}

      <div class="profile-info" style="line-height:1.6; word-wrap:break-word;">
        <p><strong>–Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>–Ü–º‚Äô—è:</strong> {{ user.first_name }} {{ user.last_name }}</p>
        <p><strong>–†–æ–ª—å:</strong> {{ user.profile.get_role_display }}</p>
        <p><strong>–ë—ñ–æ:</strong> {{ user.profile.bio|default:"‚Äî" }}</p>
      </div>

      <div class="text-center mt-4 d-flex justify-content-center gap-2 flex-wrap">
        <a href="{% url 'register:profile_edit' %}" class="btn btn-primary flex-grow-1">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</a>
        <a href="{% url 'register:logout' %}" class="btn btn-outline-secondary flex-grow-1">–í–∏–π—Ç–∏</a>
      </div>
    </div>

  {% else %}
    <div class="text-center py-5">
      <h2 class="mb-4">üîí –í–∏ –Ω–µ —É–≤—ñ–π—à–ª–∏ –≤ –∞–∫–∞—É–Ω—Ç</h2>
      <a href="{% url 'register:login' %}" class="btn btn-primary">–£–≤—ñ–π—Ç–∏</a>
    </div>
  {% endif %}
</div>
{% endblock %}
